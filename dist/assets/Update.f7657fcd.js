import{j as a,b as e,F as C,a as _,r as w,n as j,o as I,p as L,q as D,R as N,t as M}from"./index.2629f38d.js";import{u as P}from"./formik.esm.23a73a40.js";import{u as A,P as V}from"./reactjs-popup.esm.074af8b0.js";import{S as R,c as z,s as T}from"./react-select.esm.31c0f373.js";import{I as v}from"./index.ac1e03eb.js";import{G as S}from"./iconBase.b54dd92a.js";import{I as B}from"./index.b83744aa.js";import{S as E}from"./Spinner.2b7c3478.js";import{M as W}from"./ModalClose.654c3655.js";const G=({label:n,iconId:c,placeholder:s,handleChange:o,value:l,name:d,onBlur:p,onFocus:m})=>a("div",{className:"bg-grey-600 text-grey-500 flex gap-4 rounded-xl items-center px-2 md:px-8 py-6",children:[e(v,{width:24,height:24,id:c}),a("div",{className:"flex flex-col gap-3",children:[e("h2",{className:"text-[14px] md:text-[16px]",children:n}),e("input",{name:d,value:l,onChange:o,onFocus:m,onBlur:p,type:"text",placeholder:s,className:"text-[#1B1B1B] outline-none text-[16px] md:text-[20px] bg-transparent"})]})]}),F=({placeholder:n,options:c,handleChange:s,disabled:o,value:l,name:d,loading:p,matches:m})=>e(C,{children:e(R,{styles:{control:(t,h)=>({...t,height:"100%",border:"none",background:"transparent",transitionDuration:"300ms",transitionProperty:"box-shadow",transitionTimingFunction:"cubic-bezier(0.4,0,1,1)","focus:":{background:"transparent"},boxShadow:"none"}),placeholder:t=>({...t,color:"#8B8BA4",fontSize:m?"20px":"16px"}),dropdownIndicator:t=>({...t,color:"#839AB0"}),indicatorSeparator:t=>({...t,display:"none"}),singleValue:t=>({...t,overflow:"unset"}),menu:t=>({...t,background:"#FFFFFF"}),option:(t,h)=>({...t,":hover":{opacity:"0.5"},backgroundColor:"#FFFFFF",color:(h.isSelected,"inherit")})},id:d,options:c,defaultValue:l?{label:l,value:l}:n,name:d,placeholder:l?"":n,onChange:t=>s(t),isDisabled:o,isLoading:p})});function te(n){return S({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"}}]})(n)}function H(n){return S({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(n)}function ae(n){return S({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(n)}const ne=({setEdit:n})=>{var y;const c=_(),s=A("(min-width: 768px)"),[o,l]=w.exports.useState(!0),[d,p]=w.exports.useState(!1),[m]=j();let u=Object.fromEntries([...m]);const t=P({initialValues:{school_name:"",country_name:"",course_name:"",program_name:"",...u},onSubmit:r=>{n&&n(!1);let x={...r};Object.keys(x).forEach(k=>{x[k]===""&&delete x[k]}),c({pathname:"/search",search:I({...x}).toString()})}}),{data:h,isFetching:g,isLoading:i}=L(t.values.school_name,{skip:o});w.exports.useEffect(()=>{t.values.school_name.length>1?o&&l(!1):o||l(!0)},[t.values.school_name,o]);const b=r=>{t.setFieldValue("school_name",r),p(!1)},f=(r,x)=>{t.setFieldValue(x,r.value)};return a("div",{className:"bg-white rounded-xl px-[20px] py-[40px] md:px-[57px] md:py-[50px] space-y-6 md:space-y-12",children:[a("div",{className:"grid grid-cols-1 md:grid-cols-2 w-full gap-6 md:gap-10",children:[a("div",{className:"bg-grey-600 text-grey-500 rounded-xl relative",children:[e(G,{onBlur:()=>p(!1),onFocus:()=>p(!0),handleChange:t.handleChange,value:t.values.school_name,name:"school_name",label:"School name",iconId:"school-icon",placeholder:"Enter school name"}),d&&e("div",{className:"absolute overflow-y-auto w-full bg-white h-[250px] z-[3] rounded-[10px]",children:e("div",{className:"p-1 overflow-y-auto",children:e("div",{className:"flex flex-wrap",children:(!g||!i)&&((y=h==null?void 0:h.data)==null?void 0:y.map((r,x)=>e("div",{className:"p-2",children:e("p",{onMouseDown:()=>b(r==null?void 0:r.name),className:"bg-[#EDEDF2] cursor-pointer rounded-[5px] text-[14px] leading-[22.4px] p-2 w-fit",children:r==null?void 0:r.name})},x)))})})})]}),a("div",{className:"bg-grey-600 text-grey-500 rounded-xl flex gap-4 items-center px-2 md:px-8 py-6 h-full largeselect tab:h-[105px]",children:[e(v,{width:24,height:24,id:"location-icon"}),a("div",{className:"flex flex-col gap-3 w-full",children:[e("h2",{className:"text-[14px] md:text-[16px]",children:"Country"}),e(F,{value:t.values.country_name,disabled:!0,matches:s,name:"country_name",placeholder:"Enter Country",handleChange:r=>f(r,"country_name"),options:z})]})]})]}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 w-full md:gap-10 gap-6",children:[a("div",{className:"bg-grey-600 text-grey-500 rounded-xl flex gap-4 items-center px-2 md:px-8 py-6 h-full largeselect tab:h-[105px]",children:[e(v,{width:24,height:24,id:"graduation-icon"}),a("div",{className:"flex flex-col gap-3 w-full",children:[e("h2",{className:"text-[14px] md:text-[16px]",children:"Program"}),e(F,{value:t.values.program_name,matches:s,name:"program",placeholder:"Select Program",handleChange:r=>f(r,"program_name"),options:T})]})]})," ",a("div",{className:"bg-grey-600 text-grey-500 flex gap-4 rounded-xl items-center h-full px-2 md:px-8 py-6",children:[e(v,{width:24,height:24,id:"course-icon"}),a("div",{className:"flex flex-col gap-3",children:[e("h2",{className:"text-[14px] md:text-[16px]",children:"Course"}),e("input",{name:"course_name",value:t.values.course_name,onChange:t.handleChange,type:"text",placeholder:"Select Course",className:"text-[#1B1B1B] outline-none text-[16px] md:text-[20px] bg-transparent"})]})]})]}),a("button",{type:"button",disabled:!t.values.program_name||!t.values.course_name,onClick:()=>t.handleSubmit(),className:"w-full col-span-2 cursor-pointer justify-center bg-green text-white flex gap-4 rounded-lg items-center px-[30px] py-[22px] disabled:bg-gray-500",children:[e("p",{className:"text-center",children:"Search"}),e(H,{})]})]})},O=({children:n,open:c,...s})=>{const{borderRadius:o}=s;return e(V,{position:"right center",modal:!0,nested:!0,open:c,contentStyle:{maxHeight:"80%",padding:0,borderRadius:o||"12px",backgroundColor:"white",width:"fit-content",boxShadow:"none"},children:n})},Q=({code:n,result:c,close:s})=>{const[o,{isError:l,isSuccess:d,isLoading:p,data:m}]=D(),[u,t]=N.useState(""),h=_(),g=()=>{var i;(u==null?void 0:u.length)>0&&o({access_code:u,app_id:(i=c==null?void 0:c[0])==null?void 0:i.id})};return w.exports.useEffect(()=>{d&&(s&&s(),h("/booking/schools",{state:{applicationData:m}}))},[d,m,h,s]),a("div",{className:"w-full",children:[e("div",{className:`${l?"bg-[#FFE1E1]":"bg-[#E7FAFF]"} rounded-t-[12px] p-5`,children:e("p",{className:"text-[14px] leading-[22px] font-medium text-black",children:"Input code"})}),a("div",{className:"py-5 tab:px-5 md:mx-10 mb-10",children:[a("p",{className:"text-[14px] leading-[22.4px] font-medium py-3",children:["Input the code associated with ",e("span",{className:"font-bold",children:n})]}),e(B,{isError:l,value:u,onChange:i=>{var b;return t((b=i==null?void 0:i.target)==null?void 0:b.value)},placeholder:"Code here",label:"Code",fullWidth:!0}),l&&e("p",{className:"text-[#DA000]",children:"Incorrect Code"})]}),e("div",{className:"py-3 mb-5 flex justify-end tab:px-5 md:mx-10",children:e("button",{disabled:p,onClick:g,className:"col-span-2 justify-center bg-green text-white flex gap-4 rounded-md items-center px-[20px] py-[15px] md:w-auto",children:p?e(E,{}):a(C,{children:[e("p",{className:"text-center",children:"Proceed"}),e(v,{width:24,height:24,id:"arrow-right-icon"})]})})})]})},oe=({imgSrc:n})=>{const[c,s]=N.useState(!1),[o,l]=N.useState(""),d=()=>s(!1),[p,m]=N.useState([]),[u,{isLoading:t,isSuccess:h,reset:g,data:i}]=M();return w.exports.useEffect(()=>{h&&(s(!0),m(i==null?void 0:i.data),g())},[h,g,i==null?void 0:i.data]),a("div",{className:"grid grid-cols-1 md:grid-cols-2  mx-4 md:mx-12 space-x-0 md:items-start items-center bg-[#EDEDF2]",children:[e("img",{src:n,alt:"update",className:"w-full h-auto"}),a("div",{className:"bg-[#EDEDF2] w-full p-[20px] md:p-[50px]",children:[e("h4",{className:"text-[20px] md:text-[28px] w-[239px] md:w-auto font-medium md:leading-[39px]",children:"Get the update on your booking."}),e("p",{className:"text-[16px] md:text-[20px] md:leading-[32px] mt-5 mb-12",children:"Track your school admission to know it\u2019s status"}),a("div",{className:"flex gap-5 flex-col xl:flex-row justify-center xl:justify-start xl:items-center",children:[e(B,{value:o,onChange:f=>{var y;return l((y=f==null?void 0:f.target)==null?void 0:y.value)},placeholder:"Booking ID Here",iconId:"booking-icon",height:24,width:24,isRounded:!0}),e("button",{onClick:()=>{o.length>0&&u({tracking_id:o})},disabled:t,className:"col-span-2 justify-center bg-green text-white flex gap-4 rounded-md items-center px-[20px] py-[17px] w-full md:w-auto",children:t?e(E,{}):e("p",{className:"text-center",children:"Track Booking"})})]})]}),a(O,{open:c,children:[e(W,{close:d}),e("div",{className:"w-full max-h-[76vh]",children:e(Q,{close:d,result:p,code:o})})]})]})};export{te as F,ne as S,oe as U,ae as a,H as b};

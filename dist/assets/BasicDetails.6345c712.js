import{I as m}from"./index.b83744aa.js";import{A as B}from"./AuthScreen.a7354bf2.js";import{u as j}from"./useUploadImage.4da7e430.js";import{f as v,a as y,r as C,Q as p,b as e,j as f}from"./index.2629f38d.js";import{u as S}from"./formik.esm.23a73a40.js";import{a as U,U as F}from"./AuthSchema.c813c7b5.js";import{B as k}from"./Button.bb6c6609.js";import"./index.ac1e03eb.js";import"./iconBase.b54dd92a.js";import"./Spinner.2b7c3478.js";const R=()=>{const{handleClick:g,onChange:b,imageRef:x,image:r}=j(),[N,{data:w,isLoading:c,isSuccess:d,isError:u,error:t}]=v(),h=y(),{values:o,handleChange:i,handleSubmit:_,handleBlur:l,touched:n,errors:s}=S({initialValues:U,validationSchema:F,onSubmit:a=>{N({profile_picture:r==null?void 0:r.file,full_name:(a==null?void 0:a.first_name)+" "+(a==null?void 0:a.last_name),location:a==null?void 0:a.location})}});return C.exports.useEffect(()=>{var a;d&&(p.success("Profile updated successfully"),h("/")),u&&t&&"status"in t&&p.error((a=t==null?void 0:t.data)==null?void 0:a.message)},[w,c,d,u,t,h]),e(B,{title:"Welcome \u{1F44B}\u{1F3FD}",subtitle:"Let us know a little about you",children:f("form",{className:"mt-5",onSubmit:_,children:[f("div",{className:"w-full flex items-center justify-start gap-2 mb-5",children:[e("div",{className:"flex items-center self-start justify-between",children:e("img",{src:r.preview?r.preview:"/svgs/profileHolder.svg",alt:"",className:" h-[100px] w-[100px] bg-jumbleng-primary-light object-cover rounded-full"})}),e("label",{htmlFor:"imageUpload",onClick:g,className:"text-[#8B8BA4] text-[14px] cursor-pointer",children:"Tap to upload"}),e("input",{id:"imageUpload",type:"file",accept:"image/*",className:"overflow-hidden hidden",ref:x,onChange:b})]}),e("div",{className:"mb-5",children:e(m,{placeholder:"Name here",whole:!0,label:"First Name",onChange:i,onBlur:l,value:o.first_name,error:s.first_name,touched:n.first_name,name:"first_name"})}),e("div",{className:"mb-5",children:e(m,{placeholder:"Name here",whole:!0,label:"Last Name",onChange:i,onBlur:l,value:o.last_name,error:s.last_name,touched:n.last_name,name:"last_name"})}),e("div",{className:"mb-5",children:e(m,{placeholder:"Lagos, Nigeria",whole:!0,label:"Location",width:16,height:16,iconId2:"location-black-icon",onChange:i,onBlur:l,value:o.location,error:s.location,touched:n.location,name:"location"})}),e("div",{className:"flex justify-end mb-4",children:e(k,{loader:c,className:"flex items-center justify-center  text-white bg-green py-3 gap-3 px-5 text-sm cursor-pointer rounded hover:border-2 hover:border-green hover:bg-transparent hover:text-green",children:e("p",{className:"text-sm font-medium",children:"Continue"})})})]})})};export{R as default};
